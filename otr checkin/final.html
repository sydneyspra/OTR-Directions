<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Truck Parking Directions</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                line-height: 1.6;
                max-width: 800px;
                margin: 20px auto;
                padding: 0 20px;
                background-color: #ffffff; /* White background */
                color: #ffc220; /* Yellow text */
            }
            h1, h2 {
                color: #ffc220; /* Yellow text */
                text-align: center;
            }
            p {
                margin-bottom: 1.5em;
            }
            .language-selection, .driver-info, .safety-guidelines, .form-container, .upload-container {
                background: #0071ce; /* Entry screen box background */
                padding: 15px;
                border-radius: 5px;
                margin-bottom: 20px;
                border: 2px solid #ffc220; /* Yellow border */
            }
            form {
                margin-top: 20px;
            }
            label {
                display: block;
                margin-bottom: 5px;
                color: #ffc220; /* Yellow text */
            }
            select, input[type="text"], input[type="file"], textarea {
                width: 100%;
                padding: 8px;
                margin-bottom: 10px;
                border: 1px solid #ffc220; /* Yellow border */
                border-radius: 4px;
                box-sizing: border-box;
                background-color: #ffffff; /* White background */
                color: #000000; /* Black text */
                font-family: Arial, sans-serif; /* Set font to Arial */
            }
            textarea {
                resize: none; /* Disable resizing */
                height: 200px; /* Fixed height */
            }
            button {
                background-color: #ffc220; /* Yellow background */
                color: #000000; /* Black text */
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }
            button:hover {
                background-color: #ffdd57; /* Lighter yellow on hover */
            }
            footer {
                color: #0071ce; /* Blue text */
                text-align: center;
                margin-top: 20px;
            }
            .message-screen {
                display: none;
                background: #0071ce; /* Message screen box background */
                color: #ffc220; /* Yellow text */
                padding: 15px;
                border-radius: 5px;
                margin-bottom: 20px;
                border: 2px solid #ffc220; /* Yellow border */
                text-align: center;
            }
            .instructions-textbox {
                background-color: #ffffff; /* White background */
                border: 1px solid #ffc220; /* Yellow border */
                color: #000000; /* Black text */
                padding: 10px;
                margin-top: 10px;
                margin-bottom: 20px; /* Add space below the text box */
                border-radius: 5px;
                font-family: Arial, sans-serif; /* Match font with the rest of the site */
                line-height: 1.6; /* Match line height */
            }
            .safety-content {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
            }
            .image-section {
                text-align: center;
            }
            .image-section img {
                width: 100%;
                max-width: 400px;
                margin-bottom: 10px;
                border: 2px solid #ffc220; /* Yellow border */
            }
            .text-section {
                flex: 1;
                margin-right: 20px;
            }
            .image-section {
                flex: 0 0 40%;
            }
            .centered-form {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                margin-top: 20px;
            }
            .centered-form-container {
                display: flex;
                justify-content: center;
            }
            .centered-form label, .centered-form input[type="text"], .centered-form button {
                width: 100%;
                max-width: 300px;
            }
        </style>
    </head>
    <body>
        <div class="language-selection" id="languageSelection">
            <h2>Driver Check-In</h2>
            <form id="languageForm">
                <label for="language">Choose a language:</label>
                <select id="language" name="language">
                    <option value="en">English</option>
                    <option value="es">Spanish</option>
                    <option value="ru">Russian</option>
                    <option value="fr">French</option>
                    <option value="de">German</option>
                    <option value="ht">Haitian Creole</option>
                    <option value="it">Italian</option>
                    <option value="pa">Punjabi</option>
                    <option value="hi">Hindi</option>
                    <!-- Add more languages as needed -->
                </select>
                <button type="button" onclick="showDriverInfo()">Go</button>
            </form>
        </div>
    
        <div class="driver-info" id="driverInfo" style="display: none;">
            <h2>Driver Information</h2>
            <form id="driverInfoForm">
                <label for="driverName">Driver Name:</label>
                <input type="text" id="driverName" name="driverName" required>
                <label for="licenseNumber">Driver's License Number:</label>
                <input type="text" id="licenseNumber" name="licenseNumber" required>
                <label for="cellNumber">Cell Phone Number:</label>
                <input type="text" id="cellNumber" name="cellNumber" required>
                <label for="trailerNumber">Trailer Number:</label>
                <input type="text" id="trailerNumber" name="trailerNumber" required>
                <label for="truckNumber">Truck Number:</label>
                <input type="text" id="truckNumber" name="truckNumber" required>
                <label for="carrier">Carrier:</label>
                <input type="text" id="carrier" name="carrier" required>
                <button type="button" onclick="saveDriverInfo()">Next</button>
            </form>
        </div>
    
        <div class="safety-guidelines" id="safetyGuidelines" style="display: none;">
            <h2>Safety Guidelines</h2>
            <div class="safety-content">
                <div class="text-section">
                    <div class="instructions-textbox" style="width:150%;max-width:480px;"
                    </ol>
                        <p class="section-header" style="font-weight:bold;">No Idling Policy: DO NOT keep your tractor running for more than THREE (3) MINUTES.</p>
                        <p></p>
                        <p class="section-header" style="font-weight:bold;">Upon Arrival at the Dock Door:</p>
                        <ol>
                            <li>Assigned dock door should be clear with a green light.</li>
                            <li>Dolly down and chock the trailer wheels.</li>
                            <li>Unlatch the trailer and pull forward until the fifth wheel is clear of the trailer or pull out from under the trailer and park the tractor 10 feet in front of the trailer.</li>
                            <li>Tractors must be latched to pup trailers with trailer wheels chocked and tractor keys taken to the Traffic Office.</li>
                            <li>Do not move your trailer without written approval.</li>
                            <li>If the freight requires refrigeration, you must turn off the reefer unit unless specifically directed to leave it running.</li>
                            <li>Make sure your trailer tandems are slid all the way to the rear of the trailer.</li>
                        </ol>
                        <p class="section-header" style="font-weight:bold;">After Documented Trailer Release is Given to You by the Freight Bill Clerk:</p>
                        <ol>
                            <li>Check the red and green lights at the rear of the trailer. Green light must be on before re-latching to the trailer.</li>
                            <li>If the red light is on, do not move your tractor/trailer. Contact the dock Supervisor or Manager who will determine if the trailer is ready to be released and will notify you to move or not to move your tractor/trailer.</li>
                            <li>Pull your tractor/trailer forward approximately one (1) foot.</li>
                            <li>Get out of your tractor and visually check to see if the warehouse dock door has been closed.</li>
                            <li>If the warehouse dock door is not closed, do not move your tractor/trailer. Contact the Dock Supervisor/Manager who will determine if the trailer is ready to be released and will notify you to move or not to move your tractor/trailer.</li>
                            <li>If the warehouse dock door is closed, proceed to the Truck Gate exit.</li>
                        </ol>
                        <p class="section-header" style="font-weight:bold;">While in Our Distribution Center:</p>
                        <ol>
                            <li>No smoking, chewing, or dipping is allowed on the dock or inside the trailers. </li>
                            <li>Shoes and shirt must be always worn. </li>
                            <li>Use of profanity is prohibited. </li>
                            <li>No one under the age of 18 is allowed in the unloading area. </li>
                            <li>Drivers must go to the lounge during breaks and lunch. </li>
                            <li>Bad pallets must be down stacked or re-stacked onto good pallets. 
                            <li>Drivers are required to unload at Wal*Mart’s discretion. Lumpers are not permitted, and Drivers/co-Drivers will not be allowed to use power equipment. Appointment Drivers at Grocery Distribution Centers should see Appointment Clerk for additional information. 
                            <li>Rescheduling of appointments is required if you are more than one (1) hour late for your appointment. 
                            <li>Firearms, drugs, or alcoholic beverages are not allowed on company property. 
                            <li>Visitor badges must be always worn visibly. 
                        </ol>
                        <p class="section-header" style="font-weight:bold;">For Drop, Bobtail, and Backhaul Drivers:</p>
                        <ol>
                                <li>Do NOT pull any trailer from a dock door. If you have a need for a trailer that is staged in a dock door, report it to the Traffic Office immediately. A Yard Driver will be notified to pull the trailer. </li>
                                <li>Make sure that your trailer tandems are slid all the way to the rear of the trailer. </li>
                                <li>Do NOT remove seal from trailers.</li>
                                <li>Do NOT remove trailer tags from trailers. </li>
                                <li>Report any and all trailer damage immediately to Asset Protection at the Truck Gate. </li>
                                <li>Make sure that all trash and debris is deposited in the proper receptacle. </li>
                                <li>When leaving the facility, stop at the Truck Gate and exit your tractor. Meet the Asset Protection associate at the rear of the trailer. </li>
                        
                        <p class="section-header" style="font-weight:bold;">I have read and understand the rules and regulations outlined above. I also understand that failure to follow these rules and regulations, especially if I pull a trailer out before being released by the Wal-Mart Traffic Office and/or due to the fact of not verifying a Green Light on the door being pulled, I may be banned from Wal-Mart Distribution Centers. Your safety and that of our Associates is of the utmost importance to Wal-Mart.</p>
                            <p>Please initial below to acknowledge.</p>
                        </ul>
                    </div>
            </div>
            
            <div class="image-section" style="width:100%;max-width:220px;".
            </ol>
                <img src="Screenshot 2024-07-12 111805.png" alt="Speed Limit" style="height:100%;max-width:220px;max-height:220px" >
                <img src= "Screenshot 2024-07-12 105458.png" alt="No Idling">
                <img src= "Picture1.jpg" alt="Chocked Wheels">
                <img src= "Picture2.jpg" alt="Dolly Down">
                <img src="Screenshot 2024-07-14 112946.png" alt="10 feet disconnect" style="height:200%;max-width:220px;max-height:350px">
                <img src="Screenshot 2024-07-12 095249.png" alt="Green Light" style="width:200%;max-width:220px;max-height:350px">
                <img src="Screenshot 2024-07-12 092733.png" alt="Dock Door Closed" style="width:200%;max-width:220px;max-height:600px">
                <img src="Screenshot 2024-07-12 112047.png" alt="Truck Gate Trash Can"  style="height:100%;max-width:220px;max-height:220px">
            </div>

            </div>
            <div class="centered-form">
                <label for="driverInitials" style="display: block; text-align: center;">Enter your initials:</label>
                <input type="text" id="driverInitials" name="driverInitials" required>
                <button type="button" onclick="acknowledgeSafetyGuidelines()">Acknowledge</button>
            </div>
        </div>
    
    <div class="form-container" id="formContainer" style="display: none;">
        <p></p>
        <h2 id="formTitle">Enter Assigned Dock Door Number</h2>
        <form id="directionsForm">
            <label id="gateNumberLabel" for="gateNumber">Door Number:</label>
            <input type="text" id="gateNumber" name="gateNumber" placeholder="Enter the door number where you need to drop off the freight...">
            <button id="submitButton" type="submit">Submit</button>
            <p></p>
        </form>
        <div class="message-screen" id="messageScreen1">
            <p></p>  
            <h2>Dock Doors 1-33</h2>
            <div class="gate-instructions1" id="gateInstructions1">
                <p class="section-header" style="font-weight:bold;">No Idling Policy: DO NOT keep your tractor running for more than THREE (3) MINUTES.</p>
                <p></p>
                <p class="section-header" style="font-weight:bold;">After checking in at the Truck Gate:</p>
            
                    <p>Take an immediate left.</p>
                    <img src="Screenshot 2024-07-14 113138.png" style="height:100%;max-width:500px;max-height:500px">
                    <p></p>
                <p class="section-header" style="font-weight:bold;">Find your assigned dock door and back in.</p>
                <p class="section-header" style="font-weight:bold;">Follow the safety guidlines and dolly down, chock the wheels, fully disconnect, and park the tractor 10 feet in front of the trailer. </p>
                <p>After parking, walk your blue packet to the Central Receiving Office (CRO) at door 25.</p>
            </div> 
        </div>
        <div class="message-screen" id="messageScreen2">
            <h2>Dock Doors 34-71</h2>
            <div class="gate-instructions1" id="gateInstructions1">
                <p class="section-header" style="font-weight:bold;">No Idling Policy: DO NOT keep your tractor running for more than THREE (3) MINUTES.</p>
                <p></p>
                <p class="section-header" style="font-weight:bold;">After checking in at the Truck Gate:</p>
            
                    <p>Go straight after entering the yard.</p>
                    <img src="Screenshot 2024-07-14 113102.png" style="height:100%;max-width:500px;max-height:500px">
                    <p>Take a left at the breezeway.</p>
                    <img src="Screenshot 2024-07-14 213834.png" style="height:100%;max-width:500px;max-height:500px">
                <p class="section-header" style="font-weight:bold;">Find your assigned dock door and back in.</p>
                <p class="section-header" style="font-weight:bold;">Follow the safety guidlines and dolly down, chock the wheels, fully disconnect, and park the tractor 10 feet in front of the trailer. </p>
                <p>After parking, walk your blue packet to the Central Receiving Office (CRO) at door 25.</p>
            </div> 
        </div>
    </div>

</div>

    <div class="upload-container" id="uploadContainer" style="display: none;">
        <h2>Upload Proof of Parking</h2>
        <form id="uploadForm">
            <label for="parkingProof" >Upload images of chocked wheels, trailer that is unlatched and pulled forward, and door number:</label>
            <input type="file" id="parkingProof" name="parkingProof" accept="image/*" capture="camera">
            <button type="button" onclick="uploadProofOfParking()">Submit</button>
        </form>
    </div>
    
    <footer>
        <p id="footerText">For any questions or assistance, please contact [Contact Information].</p>
        <div style="margin-top: 20px;">
            <label for="exportCode">Enter Code to Export Data:</label>
            <input type="text" id="exportCode" placeholder="Enter code here...">
            <button onclick="checkExportCode()">Submit</button>
        </div>
        <div class="download-container" id="downloadContainer" style="display: none;">
            <label for="downloadDate">Select Date to Download Data:</label>
            <input type="date" id="downloadDate">
            <button onclick="downloadExcelSheet()">Download</button>
        </div>
            </ul>
        </div>
    </footer>

    <script>
        const exportCode = 'drivercheckin8851'; // Replace with the desired export code
        const translations = {
            es: {
                driverCheckInTitle: "Registro de Conductores",
                driverInfoTitle: "Información del Conductor",
                driverNameLabel: "Nombre del Conductor:",
                licenseNumberLabel: "Número de Licencia del Conductor:",
                cellNumberLabel: "Número de Teléfono Celular:",
                trailerNumberLabel: "Número del Remolque:",
                truckNumberLabel: "Número del Camión:",
                carrierLabel: "Transportista:",
                safetyGuidelinesTitle: "Directrices de Seguridad",
                noIdlingPolicy: "Política de No Dejar el Motor en Marcha: NO mantenga su tractor en marcha por más de TRES (3) MINUTOS.",
                arrivalAtDockDoor: "Al Llegar a la Puerta del Muelle:",
                arrivalAtDockDoorList: [
                    "La puerta del muelle asignada debe estar despejada con una luz verde.",
                    "Baje la dolly y coloque cuñas en las ruedas del remolque.",
                    "Destrabe el remolque y avance hasta que la quinta rueda esté despejada del remolque o salga de debajo del remolque y estacione el tractor a 10 pies frente al remolque.",
                    "Los tractores deben estar enganchados a remolques pup con las ruedas del remolque cuñas y las llaves del tractor deben ser llevadas a la Oficina de Tráfico.",
                    "No mueva su remolque sin aprobación por escrito.",
                    "Si la carga requiere refrigeración, debe apagar la unidad de refrigeración a menos que se le indique específicamente que la deje en funcionamiento.",
                    "Asegúrese de que los tándems del remolque estén deslizados completamente hacia la parte trasera del remolque."
                ],
                documentedTrailerRelease: "Después de que se le entregue la Liberación Documentada del Remolque por el Empleado del Conocimiento de Embarque:",
                documentedTrailerReleaseList: [
                    "Verifique las luces roja y verde en la parte trasera del remolque. La luz verde debe estar encendida antes de volver a engancharse al remolque.",
                    "Si la luz roja está encendida, no mueva su tractor/remolque. Comuníquese con el Supervisor o Gerente del muelle que determinará si el remolque está listo para ser liberado y le notificará si debe mover o no su tractor/remolque.",
                    "Avance su tractor/remolque aproximadamente un (1) pie.",
                    "Salga de su tractor y verifique visualmente si la puerta del muelle del almacén está cerrada.",
                    "Si la puerta del muelle del almacén no está cerrada, no mueva su tractor/remolque. Comuníquese con el Supervisor/Gerente del Muelle que determinará si el remolque está listo para ser liberado y le notificará si debe mover o no su tractor/remolque."
                ],
                speedLimit: "El límite de velocidad en la propiedad es de 5 millas por hora (MPH).",
                complyWithTrafficSignage: "Cumpla con todas las señales de tráfico en la propiedad y permanezca en los carriles designados.",
                restroomAvailability: "Los baños están disponibles y se encuentran a la izquierda de la entrada del conductor.",
                driverInitialsLabel: "Iniciales del Conductor:",
                uploadImagesTitle: "Subir Imágenes",
                imageUploadLabel: "Subir Imágenes:",
                gateInstructionsTitle: "Introduzca las Instrucciones de la Puerta",
                gateInstructions1Label: "Instrucciones de la Puerta 1:",
                gateInstructions2Label: "Instrucciones de la Puerta 2:",
                messageTitle: "¡Gracias!",
                messageText: "Sus instrucciones de la puerta han sido enviadas con éxito.",
                footerText: "&copy; 2024 Instrucciones de Estacionamiento de Camiones. Todos los Derechos Reservados."
            },
            // Add more language translations here...
        };

        function translatePage() {
            const selectedLanguage = document.getElementById('language').value;
            const elementsToTranslate = [
                'driverCheckInTitle',
                'driverInfoTitle',
                'driverNameLabel',
                'licenseNumberLabel',
                'cellNumberLabel',
                'trailerNumberLabel',
                'truckNumberLabel',
                'carrierLabel',
                'safetyGuidelinesTitle',
                'noIdlingPolicy',
                'arrivalAtDockDoor',
                'documentedTrailerRelease',
                'speedLimit',
                'complyWithTrafficSignage',
                'restroomAvailability',
                'driverInitialsLabel',
                'uploadImagesTitle',
                'imageUploadLabel',
                'gateInstructionsTitle',
                'gateInstructions1Label',
                'gateInstructions2Label',
                'messageTitle',
                'messageText',
                'footerText'
            ];

            elementsToTranslate.forEach(id => {
                if (translations[selectedLanguage] && translations[selectedLanguage][id]) {
                    document.getElementById(id).innerText = translations[selectedLanguage][id];
                }
            });

            // Update list items separately
            if (translations[selectedLanguage] && translations[selectedLanguage]['arrivalAtDockDoorList']) {
                const listItems = document.querySelectorAll('#arrivalAtDockDoorList li');
                listItems.forEach((item, index) => {
                    item.innerText = translations[selectedLanguage]['arrivalAtDockDoorList'][index];
                });
            }
            if (translations[selectedLanguage] && translations[selectedLanguage]['documentedTrailerReleaseList']) {
                const listItems = document.querySelectorAll('#documentedTrailerReleaseList li');
                listItems.forEach((item, index) => {
                    item.innerText = translations[selectedLanguage]['documentedTrailerReleaseList'][index];
                });
            }
        }
        function showDriverInfo() {
         translatePage();
         document.getElementById("languageSelection").style.display = "none";
         document.getElementById("driverInfo").style.display = "block";
        }

        function saveDriverInfo() {
            const driverName = document.getElementById("driverName").value;
            const licenseNumber = document.getElementById("licenseNumber").value;
            const cellNumber = document.getElementById("cellNumber").value;
            const trailerNumber = document.getElementById("trailerNumber").value;
            const truckNumber = document.getElementById("truckNumber").value;
            const carrier = document.getElementById("carrier").value;

            if (driverName && licenseNumber && cellNumber && trailerNumber && truckNumber && carrier) {
                const driverInfo = {
                    driverName,
                    licenseNumber,
                    cellNumber,
                    trailerNumber,
                    truckNumber,
                    carrier,
                    timestamp: new Date().toISOString()
                };

                let driverInfoList = JSON.parse(localStorage.getItem('driverInfoList')) || [];
                driverInfoList.push(driverInfo);
                localStorage.setItem('driverInfoList', JSON.stringify(driverInfoList));

                showSafetyGuidelines();
            } else {
                alert("Please fill out all required fields.");
            }
            
        }

        function showSafetyGuidelines() {
            document.getElementById("driverInfo").style.display = "none";
            document.getElementById("safetyGuidelines").style.display = "block";
        }

        function acknowledgeSafetyGuidelines() {
            const driverInitials = document.getElementById("driverInitials").value;

            if (!driverInitials) {
                alert("Please enter your initials to acknowledge the safety guidelines.");
                return;
            }

            let driverInfoList = JSON.parse(localStorage.getItem('driverInfoList')) || [];
            const lastEntry = driverInfoList[driverInfoList.length - 1];
            lastEntry.driverInitials = driverInitials;
            localStorage.setItem('driverInfoList', JSON.stringify(driverInfoList));

            showFormContainer();
        }

        function showFormContainer() {
            document.getElementById("safetyGuidelines").style.display = "none";
            document.getElementById("formContainer").style.display = "block";
        }

        function showMessageScreen() {
            var gateNumber = document.getElementById("gateNumber").value;
            var messageScreen1 = document.getElementById("messageScreen1");
            var messageScreen2 = document.getElementById("messageScreen2");
            var gateInstructions1 = document.getElementById("gateInstructions1");
            var gateInstructions2 = document.getElementById("gateInstructions2");
            var gateNumberInt = parseInt(gateNumber);
            
            if (gateNumberInt >= 1 && gateNumberInt <= 33) {
                messageScreen1.style.display = "block";
                gateInstructions1.style.display = "block";
                messageScreen2.style.display = "none";
                gateInstructions2.style.display = "none";
            } else if (gateNumberInt >= 34 && gateNumberInt <= 71) {
                messageScreen1.style.display = "none";
                gateInstructions1.style.display = "none";
                messageScreen2.style.display = "block";
                gateInstructions2.style.display = "block";
            } else {
                alert("Invalid Gate Number");
                messageScreen1.style.display = "none";
                gateInstructions1.style.display = "none";
                messageScreen2.style.display = "none";
                gateInstructions2.style.display = "none";
            }
        }
        document.getElementById('language').addEventListener('change', translatePage);
        
        document.getElementById("directionsForm").addEventListener("submit", function(event) {
        event.preventDefault();
        showMessageScreen();
         });

        function showUploadContainer() {
            document.getElementById("uploadContainer").style.display = "block";
        }

        function uploadProofOfParking() {
            const parkingProofFile = document.getElementById("parkingProof").files[0];

            if (!parkingProofFile) {
                alert("Please select a file to upload.");
                return;
            }

            // Simulate uploading file
            const uploadedFileName = parkingProofFile.name; // You can use this for further processing/display

            alert(`File '${uploadedFileName}' uploaded successfully.`);

            // Additional logic to store or process the uploaded file
        }

        function checkExportCode() {
            const enteredCode = document.getElementById('exportCode').value;
            if (enteredCode === exportCode) {
                document.getElementById('downloadContainer').style.display = 'block';
                document.getElementById('adminContainer').style.display = 'block';
                loadUploadedFiles();
            } else {
                alert('Invalid code. Please try again.');
            }
        }

        function downloadExcelSheet() {
            const selectedDate = document.getElementById('downloadDate').value;
            if (!selectedDate) {
                alert('Please select a date.');
                return;
            }

            const driverInfoList = JSON.parse(localStorage.getItem('driverInfoList')) || [];
            const filteredList = driverInfoList.filter(info => info.timestamp.startsWith(selectedDate));

            if (filteredList.length === 0) {
                alert('No data found for the selected date.');
                return;
            }

            // Define the title for the Excel sheet
            const sheetTitle = `Driver Check-In - ${selectedDate}`;

            let csvContent = `${sheetTitle}\n`;
            csvContent += 'Driver Name,Driver License Number,Cell Phone Number,Trailer Number,Truck Number,Carrier,Initials,Timestamp\n';
            
            filteredList.forEach(info => {
                csvContent += `${info.driverName},${info.licenseNumber},${info.cellNumber},${info.trailerNumber},${info.truckNumber},${info.carrier},${info.driverInitials || ''},${info.timestamp}\n`;
            });

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `driver_checkin_${selectedDate.replace(/\//g, '-')}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function loadUploadedFiles() {
            // Simulated fetch request for uploaded files
            const data = { files: ['file1.jpg', 'file2.jpg'] };

            const uploadedFilesList = document.getElementById('uploadedFilesList');
            uploadedFilesList.innerHTML = '';
            data.files.forEach(file => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = `/uploads/${file}`;
                link.textContent = file;
                listItem.appendChild(link);
                uploadedFilesList.appendChild(listItem);
            });
        }
    </script>
</body>
</html>
